<!DOCTYPE html>
<html lang="en">
<head>
	<title>Sign Up</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
<!--===============================================================================================-->

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-analytics.js"></script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-database.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBIkviWay63-GDTLVtj0EZ6MIHXsijVEIs",
    authDomain: "scrapbook-6f898.firebaseapp.com",
    databaseURL: "https://scrapbook-6f898.firebaseio.com",
    projectId: "scrapbook-6f898",
    storageBucket: "scrapbook-6f898.appspot.com",
    messagingSenderId: "1061249736539",
    appId: "1:1061249736539:web:a84474fdc8efb2d136447e",
    measurementId: "G-341B6R7CLK"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>

</head>
<body>
	
	   <!--navigation bar for scrapbook -->
	   <nav>
        <div class="container-fluid d-flex">
          <img src="images/book.png" alt="book.png" />
          <p>ScrapBook</p>
        </div>
      </nav>
    <!--end navigation bar for scrapbook  -->
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="login100-pic js-tilt" data-tilt>
					<img src="images/scrapbook.png" alt="IMG">
				</div>

			<form class="login100-form validate-form">
					<span class="login100-form-title">
						Member Signup
                    </span>
                    
                    
					<div class="wrap-input100">
						<input class="input100" type="text"  placeholder="Your Name" id="name">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-user" aria-hidden="true"></i>
						</span>
					</div>

					<div class="wrap-input100">
						<input class="input100" type="text" name="email" placeholder="Email" id="email">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-envelope" aria-hidden="true"></i>
						</span>
					</div>

					<div class="wrap-input100">
						<input class="input100" type="password"  placeholder="Password" id="password">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-lock" aria-hidden="true"></i>
						</span>
                    </div>
                    
                    <div class="wrap-input100">
						<input class="input100" type="password"  placeholder="Repassword" id="repassword">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-lock" aria-hidden="true"></i>
						</span>
					</div>
					

				<div class="container-login100-form-btn">
					<butinton class="login100-form-btn" onclick="return validation()">
						Sign Up</button>
					</div>

			<!--		<div class="text-center p-t-10">
						<span class="txt1">
							Already have account?
						</span>
						<a class="txt2" href="index.html">
							Login
						</a>
					</div>
				-->

				</form> 
			</div>
		</div>
	</div>
		
 <!--  Footer  -->
 <footer>
	<div class="container-fluid">
	  <p>
		Copyright &copy; 2020 All rights reserved | Powered by :
		<a href="https://www.linkedin.com/in/chiranjeeb-nayak-b6218b182/" class="club">CHIRANJEEB NAYAK</a>
		
	  </p>
	</div>
  </footer>
  <!--X---  Footer --X-->
	
<!--===============================================================================================-->	
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/tilt/tilt.jquery.min.js"></script>
	<script >
		$('.js-tilt').tilt({
			scale: 1.1
		})
	</script>
<!--===============================================================================================-->


</body>
<script>
	var userId;
  function validation()
  {
	  var nm=document.getElementById("name").value;
	  var em=document.getElementById("email").value;
	  var pd=document.getElementById("password").value;
	  var repd=document.getElementById("repassword").value;
	  if(nm=="")
	  {
		  alert("Please enter your name");
		  return false;
	  }
	  if(em=="")
	  {
		  alert("Please enter your email-id");
		  return false;
	  }
	  if(pd=="")
	  {
		  alert("Please enter your password");
		  return false;
	  }
	  if(repd=="")
	  {
		  alert("Please confirm your password");
		  return false;
	  }
	  else
	  {   
		  if(pd==repd)
		  { 
  
	   firebase.auth().createUserWithEmailAndPassword(em, pd).then(function()
	   { 
		 //alert("sucessfully!!!");
		 firebase.auth().currentUser.sendEmailVerification().then(function() {
		   var name=nm;
		   var email=em;
		   firebase.auth().onAuthStateChanged(function(user) {
	if (user) {
	  // User is signed in.
	 // alert(user.uid);
	   userId=user.uid;
	  // alert(userId);
  
	} else {
	  // No user is signed in.
  
	}
  }); 
  
  setTimeout(datastore,2000);
  
  
		  alert('Email Verification Sent!');
  
		});
  
  
	   }).catch(function(error) {
		 //Handle Errors here.
	   var errorCode = error.code;
		var errorMessage = error.message;
		alert(error);
		// ...
	  });
  
  
  
	return true;
  
  //setTimeout(print,3000);
		  }
		  else
		  {
			  alert("Your password is not maching");
		  return false;
		  }
  
	   
	  }
	  
  }
  
  function datastore()
  {
	const ref = firebase.database().ref();
						   let fname= $("#name").val();
						   let femail=$("#email").val();
						 
							
						  
						   ref.child('user/' + userId).set({
								 Name:fname,
								 Email:femail
							   
			   
							 });   
  }
  </script>
  <script>
	  function google()
	  {
		  var provider = new firebase.auth.GoogleAuthProvider();
		  provider.addScope('https://www.googleapis.com/auth/contacts.readonly');
		  firebase.auth().signInWithPopup(provider).then(function(result) {
	// This gives you a Google Access Token. You can use it to access the Google API.
	var token = result.credential.accessToken;
	// The signed-in user info.
	var user = result.user;
	// ...
	alert("You have signed up successful.");
	window.location.href="home.html";
  }).catch(function(error) {
	// Handle Errors here.
	var errorCode = error.code;
	var errorMessage = error.message;
	// The email of the user's account used.
	var email = error.email;
	// The firebase.auth.AuthCredential type that was used.
	var credential = error.credential;
	// ...
	alert(errorMessage);
  });
  
  
  
  
	  }
  </script>
  <script>
	function verification()
	{
		  var user =firebase.auth().currentUser;
		  user.sendEmailVerification().then(function() {
			//email sent
		  }).catch(function(error) {
			//error handle
		  });
	}
  
	function facebook()
	   {alert("welcome to facebook!!!");
		 var provider = new firebase.auth.FacebookAuthProvider();
		 provider.addScope('user_birthday');
		 firebase.auth().signInWithPopup(provider).then(function(result) {
	 // This gives you a Facebook Access Token. You can use it to access the Facebook API.
	 var token = result.credential.accessToken;
	 // The signed-in user info.
	 var user = result.user;
	 alert("You have signed up successfullly.");
	 window.location.href="home.html";
	 // ...
   }).catch(function(error) {
	 // Handle Errors here.
	 var errorCode = error.code;
	 var errorMessage = error.message;
	 alert(errorMessage);
	 // The email of the user's account used.
	 var email = error.email;
	 // The firebase.auth.AuthCredential type that was used.
	 var credential = error.credential;
	 alert(errorMessage);
	 // ...
   });
		 
	   }
   
	   function twitter()
	   { alert("welcome to twitter!!!!");
		 var provider = new firebase.auth.TwitterAuthProvider();
		 firebase.auth().signInWithPopup(provider).then(function(result) {
	 // This gives you a the Twitter OAuth 1.0 Access Token and Secret.
	 // You can use these server side with your app's credentials to access the Twitter API.
	 var token = result.credential.accessToken;
	 var secret = result.credential.secret;
	 // The signed-in user info.
	 var user = result.user;
	 alert("You have signed up successfullly.");
	 window.location.href="home.html";
   
	 // ...
   }).catch(function(error) {
	 // Handle Errors here.
	 var errorCode = error.code;
	 var errorMessage = error.message;
	 alert(errorMessage);
	 // The email of the user's account used.
	 var email = error.email;
	 // The firebase.auth.AuthCredential type that was used.
	 var credential = error.credential;
	 alert(errorMessage);
	 // ...
   });
	   }
	  
  
  
	 
  </script>
  
</html>